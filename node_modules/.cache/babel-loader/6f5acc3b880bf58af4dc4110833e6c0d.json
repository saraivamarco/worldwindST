{"ast":null,"code":"var _jsxFileName = \"/Users/marcosaraivadasilva/Documents/Workspace/NASA/worldwindST/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport logo from './400x230-splash-nww.png';\nimport './App.css';\nimport * as satellite from \"satellite.js\";\nimport { getAllItems } from './Client';\nimport { useState, useEffect, useContext } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { BrowserRouter as Router, Switch, Route, Redirect, Link } from \"react-router-dom\";\nimport AuthApi from \"./AuthApi\"; //import Cookies from 'js-cookie';\n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction invokeSatellite() {\n  // Sample TLE\n  var tleLine1 = '1 25544U 98067A   19156.50900463  .00003075  00000-0  59442-4 0  9992';\n  var tleLine2 = '2 25544  51.6433  59.2583 0008217  16.4489 347.6017 15.51174618173442';\n  var satrec = satellite.twoline2satrec(tleLine1, tleLine2);\n  var positionAndVelocity = satellite.propagate(satrec, new Date());\n  console.log(positionAndVelocity);\n}\n\nfunction App() {\n  _s();\n\n  const [auth, setAuth] = useState(false);\n  const [fetching, setFetching] = useState(true);\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    console.log(\"component is mounted\"); //readCookie();\n\n    fetchData();\n  }, []);\n  /** consuming a dummy rest service - just for testing purposes */\n\n  const fetchData = () => getAllItems().then(res => res.json()).then(data => {\n    //console.log(data.data);\n    setData(data.data);\n  }).catch(err => {\n    console.log(err.response);\n    err.response.json().then(res => {\n      console.log(res);\n    });\n  }).finally(() => {\n    setFetching(false);\n  });\n\n  function renderData() {\n    const list = data.map(obj => /*#__PURE__*/_jsxDEV(\"dt\", {\n      children: obj.name\n    }, obj.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 34\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"dl\", {\n      children: list\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  /** end of consuming a dummy rest service */\n\n  /** It was planned to be used for getting the cookie from Space-Track but the feature is buggy\n  const readCookie = () => {\n    const user = Cookies.get(\"spacetrack_csrf_cookie\");\n    if(user){\n      setAuth(true);\n    }\n  }\n   */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AuthApi.Provider, {\n      value: {\n        auth,\n        setAuth\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(Routes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n} //https://www.space-track.org/documentation#howto-api_intro\n\n\n_s(App, \"EBLqCLV87q0wbXdDEGIliEyOjyY=\");\n\n_c = App;\n\nconst Home = () => {\n  _s2();\n\n  const Auth = useContext(AuthApi);\n  const data = {\n    \"identity\": \"<user_name>\",\n    \"password\": \"<password>\",\n    \"query\": \"https://www.space-track.org/basicspacedata/query/class/gp/OBJECT_TYPE/debris/limit/3\"\n  };\n  const extra = {\n    withCredentials: true,\n    mode: 'no-cors',\n    credentials: 'same-origin',\n    headers: {\n      'Access-Control-Allow-Credentials': 'true',\n      'Access-Control-Allow-Headers': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS',\n      'Access-Control-Allow-Origin': 'http://localhost:3000',\n      'Content-Type': 'application/json'\n    }\n  };\n\n  const handleOnClick = () => {\n    invokeSatellite();\n    Auth.setAuth(true); //Cookies.set(\"spacetrack_csrf_cookie\",\"578142329a6bcf8024271040928aeb0c\");\n    //let cookie = Cookies.get(\"chocolatechip\");\n    //if(cookie === undefined){\n\n    axios.post(\"https://www.space-track.org/ajaxauth/login\", data, extra).then(response => {\n      if (response.status === 200) {\n        //debugger;\n        console.log(response); //Cookies.set(\"chocolatechip\", response.data);\n      }\n    }).catch(err => console.warn(err)); //}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://worldwind.arc.nasa.gov\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          className: \"App-logo\",\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOnClick,\n        children: \"Query Space-Track.org for Debris\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Home, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c2 = Home;\nconst WorldWind = window.WorldWind;\n\nconst Dashboard = () => {\n  _s3();\n\n  function eventWindowLoaded() {\n    // Create a WorldWindow for the canvas.\n    wwd = new WorldWind.WorldWindow(\"canvasOne\"); // Add some image layers to the WorldWindow's globe.\n\n    wwd.addLayer(new WorldWind.BMNGOneImageLayer());\n    wwd.addLayer(new WorldWind.BMNGLandsatLayer()); // Add a compass, a coordinates display and some view controls to the WorldWindow.\n\n    wwd.addLayer(new WorldWind.CompassLayer());\n    wwd.addLayer(new WorldWind.CoordinatesDisplayLayer(wwd));\n    wwd.addLayer(new WorldWind.ViewControlsLayer(wwd));\n  }\n\n  const Auth = useContext(AuthApi);\n\n  const handleOnClick = () => {\n    Auth.setAuth(false); //Cookies.remove(\"spacetrack_csrf_cookie\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleOnClick,\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: \"position: absolute; top: 50px; left: 50px;\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"canvasOne\",\n        width: \"1024\",\n        height: \"768\",\n        children: \"Your browser does not support HTML5 Canvas.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this), window.addEventListener(\"load\", eventWindowLoaded, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(Dashboard, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c3 = Dashboard;\n\nconst Routes = () => {\n  _s4();\n\n  const Auth = useContext(AuthApi);\n  return /*#__PURE__*/_jsxDEV(Switch, {\n    children: [/*#__PURE__*/_jsxDEV(ProtectedLogin, {\n      path: \"/home\",\n      auth: Auth.auth,\n      component: Home\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n      path: \"/dashboard\",\n      auth: Auth.auth,\n      component: Dashboard\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n\n_s4(Routes, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c4 = Routes;\n\nconst ProtectedRoute = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 10\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n\n_c5 = ProtectedRoute;\n\nconst ProtectedLogin = ({\n  auth,\n  component: Component,\n  ...rest\n}) => {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: () => !auth ? /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 10\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 10\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n};\n\n_c6 = ProtectedLogin;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Home\");\n$RefreshReg$(_c3, \"Dashboard\");\n$RefreshReg$(_c4, \"Routes\");\n$RefreshReg$(_c5, \"ProtectedRoute\");\n$RefreshReg$(_c6, \"ProtectedLogin\");","map":{"version":3,"sources":["/Users/marcosaraivadasilva/Documents/Workspace/NASA/worldwindST/src/App.js"],"names":["logo","satellite","getAllItems","useState","useEffect","useContext","Button","BrowserRouter","Router","Switch","Route","Redirect","Link","AuthApi","axios","invokeSatellite","tleLine1","tleLine2","satrec","twoline2satrec","positionAndVelocity","propagate","Date","console","log","App","auth","setAuth","fetching","setFetching","data","setData","fetchData","then","res","json","catch","err","response","finally","renderData","list","map","obj","name","id","Home","Auth","extra","withCredentials","mode","credentials","headers","handleOnClick","post","status","warn","WorldWind","window","Dashboard","eventWindowLoaded","wwd","WorldWindow","addLayer","BMNGOneImageLayer","BMNGLandsatLayer","CompassLayer","CoordinatesDisplayLayer","ViewControlsLayer","addEventListener","Routes","ProtectedRoute","component","Component","rest","ProtectedLogin"],"mappings":"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","sourcesContent":["import logo from './400x230-splash-nww.png';\nimport './App.css';\nimport * as satellite from \"satellite.js\";\nimport {getAllItems} from './Client';\nimport {useState, useEffect, useContext} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { BrowserRouter as Router, Switch, Route, Redirect, Link } from \"react-router-dom\";\nimport AuthApi from \"./AuthApi\";\n//import Cookies from 'js-cookie';\nimport axios from 'axios';\n\nfunction invokeSatellite() {\n  // Sample TLE\n  var tleLine1 = '1 25544U 98067A   19156.50900463  .00003075  00000-0  59442-4 0  9992';\n  var tleLine2 = '2 25544  51.6433  59.2583 0008217  16.4489 347.6017 15.51174618173442';    \n\n  var satrec = satellite.twoline2satrec(tleLine1, tleLine2);\n  var positionAndVelocity = satellite.propagate(satrec, new Date());\n\n  console.log(positionAndVelocity);\n}\n\nfunction App() {\n  const [auth, setAuth] = useState(false);\n  const [fetching, setFetching] = useState(true);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    console.log(\"component is mounted\");\n    //readCookie();\n    fetchData();\n  }, []);\n\n  /** consuming a dummy rest service - just for testing purposes */\n  const fetchData = () =>\n        getAllItems()\n            .then(res => res.json())\n            .then(data => {\n                //console.log(data.data);\n                setData(data.data);\n        }).catch(err => {\n                console.log(err.response)\n                err.response.json().then(res => {\n                    console.log(res);\n                });\n        }).finally(() => {\n          setFetching(false);\n        });\n\n  function renderData() {\n    const list = data.map(obj => <dt key={obj.id}>{obj.name}</dt>)\n    return (\n      <dl>{list}</dl>\n    )\n  }\n  /** end of consuming a dummy rest service */\n\n  /** It was planned to be used for getting the cookie from Space-Track but the feature is buggy\n  const readCookie = () => {\n    const user = Cookies.get(\"spacetrack_csrf_cookie\");\n    if(user){\n      setAuth(true);\n    }\n  }\n   */\n \n  return (\n    <div className=\"App\">\n\n      <AuthApi.Provider value={{auth,setAuth}}>\n        <Router>\n          <Routes></Routes>\n        </Router>\n      </AuthApi.Provider>\n      \n    </div>\n  );\n}\n\n//https://www.space-track.org/documentation#howto-api_intro\nconst Home = () => {\n  const Auth = useContext(AuthApi);\n\n  const data = \n  {\n    \"identity\": \"<user_name>\",\n    \"password\": \"<password>\",\n    \"query\": \"https://www.space-track.org/basicspacedata/query/class/gp/OBJECT_TYPE/debris/limit/3\"\n  };\n\n  const extra = \n  {\n    withCredentials: true,\n    mode: 'no-cors',\n    credentials: 'same-origin',\n    headers: {\n      'Access-Control-Allow-Credentials': 'true',\n      'Access-Control-Allow-Headers': '*',\n      'Access-Control-Allow-Methods': 'GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS',\n      'Access-Control-Allow-Origin': 'http://localhost:3000', \n      'Content-Type': 'application/json'\n    }\n  }\n\n\n  const handleOnClick = () => {\n    invokeSatellite();\n    Auth.setAuth(true);\n    //Cookies.set(\"spacetrack_csrf_cookie\",\"578142329a6bcf8024271040928aeb0c\");\n\n    //let cookie = Cookies.get(\"chocolatechip\");\n    //if(cookie === undefined){\n    axios.post(\"https://www.space-track.org/ajaxauth/login\", data, extra).then(response => {\n      if(response.status === 200){\n        //debugger;\n        console.log(response);\n        //Cookies.set(\"chocolatechip\", response.data);\n      }\n    }).catch(err => console.warn(err));\n    //}\n  }\n  return (\n    <div>\n      <header className=\"App-header\">\n        <h1>Welcome</h1>\n        <a href=\"https://worldwind.arc.nasa.gov\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" /></a>\n        <p></p>\n        <Button onClick={handleOnClick}>Query Space-Track.org for Debris</Button>\n      </header>\n    </div>\n  )\n}\n\nconst WorldWind = window.WorldWind;\n\nconst Dashboard = () => {\n\n  function eventWindowLoaded() {\n    // Create a WorldWindow for the canvas.\n    wwd = new WorldWind.WorldWindow(\"canvasOne\");\n\n    // Add some image layers to the WorldWindow's globe.\n    wwd.addLayer(new WorldWind.BMNGOneImageLayer());\n    wwd.addLayer(new WorldWind.BMNGLandsatLayer());\n\n    // Add a compass, a coordinates display and some view controls to the WorldWindow.\n    wwd.addLayer(new WorldWind.CompassLayer());\n    wwd.addLayer(new WorldWind.CoordinatesDisplayLayer(wwd));\n    wwd.addLayer(new WorldWind.ViewControlsLayer(wwd));\n}\n\n  const Auth = useContext(AuthApi);\n  const handleOnClick = () => {\n    Auth.setAuth(false);\n    //Cookies.remove(\"spacetrack_csrf_cookie\");\n  }\n  return (\n    <div>\n        <h1>Dashboard</h1>\n        <Button onClick={handleOnClick}>Go Back</Button>\n        <div style=\"position: absolute; top: 50px; left: 50px;\">\n      {/* Create a canvas for Web WorldWind. */}\n      <canvas id=\"canvasOne\" width=\"1024\" height=\"768\">\n          Your browser does not support HTML5 Canvas.\n      </canvas>\n    </div>\n      {window.addEventListener(\"load\", eventWindowLoaded, false)}\n    </div>\n  )\n}\n\nconst Routes = () => {\n  const Auth = useContext(AuthApi);\n  return (\n    <Switch>\n      <ProtectedLogin path=\"/home\" auth={Auth.auth} component={Home}/>\n      <ProtectedRoute path=\"/dashboard\" auth={Auth.auth} component={Dashboard}/>\n    </Switch>\n  )\n}\n\nconst ProtectedRoute = ({auth, component:Component, ...rest}) => {\n  return (\n    <Route\n      {...rest}\n      render = {()=> auth? \n        (<Component/>):\n        (<Redirect to=\"/home\"/>)\n      }\n    />\n  )\n}\n\nconst ProtectedLogin = ({auth, component:Component, ...rest}) => {\n  return (\n    <Route\n      {...rest}\n      render = {()=> !auth? \n        (<Component/>):\n        (<Redirect to=\"/dashboard\"/>)\n      }\n    />\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}